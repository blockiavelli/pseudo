"import boto3\\n\\ndef get_instances(events, context):\\n    try:\\n        ec2 = boto3.client('ec2')\\n        filters = [{'Name': 'tag:Scenario', 'Values': ['one']}, {'Name': 'tag:DomainJoined', 'Values': ['Yes']}, {'Name': 'instance-state-name', 'Values': ['running']}]\\n        response = ec2.describe_instances(Filters=filters)\\n        instance_ids = [inst['InstanceId'] for res in response['Reservations'] for inst in res['Instances']]\\n        return {'InstanceIds': ','.join(instance_ids)}\\n    except Exception as e:\\n        return {'Error': str(e)}\\n"
